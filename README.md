# Be Better Web

一个基于 Next.js 构建的现代化个人网站，结合了个人博客和日常日程管理功能。该平台支持用户撰写和管理博客文章、组织日常任务，并能从完成的计划中自动生成基于日程的博客内容。

## 🚀 功能特性

### ✅ **已实现功能**

#### 📝 **博客系统**
- **完整的博客管理**：创建、编辑、删除和发布博客文章
- **分类和标签系统**：支持文章分类和标签管理，便于内容组织
- **公开访问**：访客无需登录即可浏览博客内容
- **富文本编辑**：支持 Markdown 格式的内容编辑和预览
- **文章元数据**：支持文章摘要、发布时间、阅读时间等显示信息
- **评论系统**：嵌套评论功能，支持评论审核和管理

#### 📅 **任务管理系统**
- **完整的任务生命周期**：创建、编辑、跟踪和完成任务
- **多视图支持**：列表视图、日历视图、统计视图
- **任务属性**：优先级设置、截止日期、预计时间、实际时间记录
- **任务分类**：支持自定义分类和标签
- **任务状态管理**：待办、进行中、已完成、已取消
- **任务模板**：预设模板快速创建常用任务组合
- **进度跟踪**：可视化的任务完成进度

#### 📊 **数据分析与洞察**
- **生产力统计**：任务完成率、时间使用分析
- **趋势分析**：周报、月报生成
- **可视化图表**：任务分布、完成趋势等图表展示
- **自定义时间范围**：支持任意时间段的数据分析

#### 📋 **每日总结系统**
- **每日回顾**：记录当天完成的任务和成就
- **心情和能量记录**：追踪每日心情和能量水平
- **明日规划**：为第二天设定目标和计划
- **生产力评分**：基于任务完成情况的自动化评分
- **自动博客生成**：从每日总结自动生成博客文章（开发中）

#### 🔄 **习惯追踪系统**
- **习惯创建和管理**：定义个人习惯和目标
- **连续记录**：追踪习惯完成的连续天数
- **习惯分类**：按类型组织习惯（每日、每周、每月）
- **提醒功能**：设置习惯完成的提醒时间
- **统计数据**：习惯完成率和趋势分析

#### 😊 **情绪记录系统**
- **多维情绪追踪**：心情、能量、压力、睡眠质量评分
- **详细记录**：支持添加笔记、标签、天气等信息
- **历史趋势**：查看情绪变化趋势和关联性
- **数据导出**：支持导出情绪数据用于进一步分析

#### 🔗 **系统集成**
- **自动博客生成**：从每日总结自动生成博客文章
- **数据关联**：任务、习惯、情绪、总结之间的数据关联
- **统一仪表板**：集中展示所有功能模块的概览信息
- **快速导航**：各功能模块之间的快速跳转

#### 🎨 **用户体验**
- **响应式设计**：完美适配桌面、平板和手机
- **深色模式**：支持明暗主题切换
- **现代化界面**：基于 Tailwind CSS 的美观界面
- **加载状态**：友好的加载动画和错误提示
- **Toast 通知**：操作反馈和状态提示

### 🔐 **认证与安全**
- **Supabase Auth 集成**：安全的用户认证系统
- **受保护路由**：管理员功能需要登录访问
- **行级安全 (RLS)**：数据库级别的数据保护
- **单管理员模式**：简化的权限管理，适合个人使用

### 📤 **数据管理**
- **数据导出功能**：支持 JSON、CSV 格式的数据导出
- **历史记录**：完整的数据变更历史
- **批量操作**：支持批量任务操作和数据管理
- **备份和恢复**：数据安全备份机制

### 🚧 **正在开发中的功能**
- **自动化工作流**：更智能的任务自动化
- **高级分析**：基于 AI 的生产力洞察
- **团队协作**：多用户支持（已移除，专注个人使用）
- **移动应用**：原生移动端应用
- **第三方集成**：与其他生产力工具的集成

## 🛠 技术栈

- **框架**：Next.js 15.5.0 with App Router
- **前端**：React 19.1.0, TypeScript 5+, Tailwind CSS v4
- **后端**：Supabase (PostgreSQL 数据库、认证、存储)
- **UI 组件**：基于 Radix UI 基础的自定义组件库
- **表单处理**：React Hook Form with Zod 验证
- **富文本**：TipTap 编辑器
- **图标**：Lucide React
- **构建工具**：Turbopack

## 📦 前置条件

开始之前，请确保您拥有：

- 已安装 Node.js 18+
- Supabase 账户和项目
- Git 版本控制工具

## 🚀 快速开始

### 1. 克隆仓库

```bash
git clone <repository-url>
cd be-better-web
```

### 2. 安装依赖

```bash
npm install
```

### 3. 设置环境变量

1. 复制环境变量模板：
   ```bash
   cp .env.example .env.local
   ```

2. 在 `.env.local` 中填入您的 Supabase 凭据：
   ```env
   NEXT_PUBLIC_SUPABASE_URL=your_supabase_project_url
   NEXT_PUBLIC_SUPABASE_ANON_KEY=your_supabase_anon_key
   SUPABASE_SERVICE_ROLE_KEY=your_supabase_service_role_key
   ```

   从您的 Supabase 项目仪表板获取这些值：
   `https://supabase.com/dashboard/project/YOUR_PROJECT_ID/settings/api`

### 4. 设置数据库

1. **创建 Supabase 项目**：
   - 访问 [supabase.com](https://supabase.com)
   - 创建新项目
   - 等待项目准备就绪

2. **运行数据库架构**：
   - 打开您的 Supabase 项目仪表板
   - 进入 SQL 编辑器
   - 复制并粘贴 `src/lib/supabase/schema.sql` 的内容
   - 执行脚本

3. **设置 RLS 策略**：
   - 在同一个 SQL 编辑器中
   - 复制并粘贴 `src/lib/supabase/rls-policies.sql` 的内容
   - 执行脚本

4. **验证设置**：
   ```bash
   npm run setup-db
   ```

### 5. 启动开发服务器

```bash
npm run dev
```

在浏览器中打开 [http://localhost:3000](http://localhost:3000) 查看应用程序。

## 🗂 项目结构

```
src/
├── app/                          # Next.js App Router
│   ├── auth/                     # 认证相关页面
│   │   └── login/                # 登录页面
│   ├── admin/                    # 管理员功能
│   │   ├── dashboard/            # 管理员仪表板
│   │   └── login/                # 管理员登录
│   ├── blog/                     # 博客相关页面
│   │   ├── admin/                # 博客管理
│   │   │   ├── posts/            # 文章管理
│   │   │   ├── comments/         # 评论管理
│   │   │   └── page.tsx          # 博客管理首页
│   │   ├── [id]/                 # 文章详情页
│   │   │   ├── edit/             # 文章编辑
│   │   │   └── page.tsx          # 文章查看
│   │   ├── new/                  # 新建文章
│   │   └── page.tsx              # 博客列表页
│   ├── dashboard/                # 用户仪表板
│   ├── schedule/                 # 任务日程管理
│   ├── summary/                  # 每日总结
│   ├── habits/                   # 习惯追踪
│   ├── mood/                     # 情绪记录
│   ├── insights/                 # 数据分析
│   ├── export/                   # 数据导出
│   ├── automation/               # 自动化功能
│   ├── features/                 # 功能介绍
│   ├── about/                    # 关于页面
│   ├── contact/                  # 联系页面
│   ├── docs/                     # 文档页面
│   ├── help/                     # 帮助页面
│   ├── privacy/                  # 隐私政策
│   ├── terms/                    # 服务条款
│   ├── debug/                    # 调试工具
│   ├── ui-demo/                  # UI 组件演示
│   ├── globals.css               # 全局样式
│   ├── layout.tsx                # 根布局
│   └── page.tsx                  # 首页
├── components/                   # 可复用组件
│   ├── ui/                       # 基础 UI 组件库
│   ├── auth/                     # 认证相关组件
│   ├── blog/                     # 博客相关组件
│   ├── tasks/                    # 任务管理组件
│   ├── habits/                   # 习惯追踪组件
│   ├── charts/                   # 图表组件
│   ├── newsletter/               # 邮件订阅组件（已移除）
│   └── layout/                   # 布局组件
├── lib/                          # 工具库
│   ├── supabase/                 # Supabase 配置和服务
│   │   └── services/             # 数据库服务层
│   ├── auth/                     # 认证工具
│   ├── utils/                    # 通用工具函数
│   ├── hooks/                    # 自定义 Hooks
│   └── validations/              # 数据验证
├── types/                        # TypeScript 类型定义
│   └── database.ts               # 数据库类型
├── scripts/                      # 数据库脚本
│   ├── schema-final.sql          # 最终数据库架构
│   └── *.sql                     # 各种迁移脚本
└── public/                       # 静态资源
```

## 🔧 可用脚本

- `npm run dev` - 使用 Turbopack 启动开发服务器
- `npm run build` - 构建生产版本
- `npm run start` - 启动生产服务器
- `npm run lint` - 运行 ESLint
- `npm run setup-db` - 数据库设置辅助脚本

## 🎨 UI 组件

项目包含一个全面的 UI 组件库：

- **表单组件**：Button、Input、Textarea、Select、Checkbox
- **布局组件**：Card、Modal、Loading、Badge
- **导航**：带响应式菜单和主题切换的 Header
- **反馈**：Toast 通知、加载状态
- **主题**：明暗/系统主题支持

## 🔐 认证

- **注册/登录**：邮箱和密码认证
- **受保护路由**：仪表板和管理员功能
- **行级安全**：数据库级安全策略
- **用户资料**：注册时自动创建资料

## 🗄 数据库架构

应用程序使用全面的 PostgreSQL 架构：

- **用户**：带偏好的扩展用户资料
- **文章**：带分类和标签的博客文章
- **分类和标签**：内容组织
- **评论**：嵌套评论系统
- **任务**：日常任务管理
- **每日总结**：生产力跟踪

## 🚧 开发状态

### ✅ **已完成功能**

#### **基础架构**
- [x] 项目设置和依赖配置
- [x] Next.js 15 + App Router 架构
- [x] TypeScript 严格模式配置
- [x] Tailwind CSS v4 样式系统
- [x] 完整的数据库架构设计
- [x] RLS（行级安全）策略实现
- [x] Supabase 集成和认证系统

#### **核心功能**
- [x] 用户认证和授权系统
- [x] 单管理员模式（移除多用户支持）
- [x] 响应式布局和导航
- [x] 明暗主题切换系统
- [x] 全局状态管理
- [x] 错误处理和加载状态
- [x] Toast 通知系统

#### **博客系统**
- [x] 博客文章 CRUD 操作
- [x] Markdown 编辑器和预览
- [x] 分类和标签管理系统
- [x] 文章状态管理（草稿/发布/归档）
- [x] 公开博客页面
- [x] 文章详情页面
- [x] 文章元数据支持
- [x] 评论系统（嵌套评论）
- [x] 评论审核功能

#### **任务管理系统**
- [x] 完整的任务 CRUD 操作
- [x] 任务状态管理（待办/进行中/已完成/已取消）
- [x] 优先级设置（低/中/高）
- [x] 截止日期和时间管理
- [x] 任务分类和标签
- [x] 多视图支持（列表/日历/统计）
- [x] 任务模板系统
- [x] 任务过滤器
- [x] 进度跟踪
- [x] 时间记录（预计时间 vs 实际时间）

#### **习惯追踪系统**
- [x] 习惯创建和管理
- [x] 习惯完成记录
- [x] 连续天数统计
- [x] 习惯分类（每日/每周/每月）
- [x] 提醒时间设置
- [x] 习惯统计和分析
- [x] 可视化进度展示

#### **情绪记录系统**
- [x] 多维情绪评分（心情/能量/压力/睡眠）
- [x] 情绪记录和笔记
- [x] 标签和天气记录
- [x] 历史趋势查看
- [x] 情绪数据导出

#### **每日总结系统**
- [x] 每日总结创建和编辑
- [x] 任务完成情况统计
- [x] 心情和能量记录
- [x] 成就和挑战记录
- [x] 明日目标设定
- [x] 生产力评分计算
- [x] 总结历史查看

#### **数据分析系统**
- [x] 生产力统计和图表
- [x] 任务完成率分析
- [x] 时间使用分析
- [x] 趋势分析（周报/月报）
- [x] 可视化图表展示
- [x] 自定义时间范围查询
- [x] 数据缓存和性能优化

#### **数据管理**
- [x] 数据导出功能（JSON/CSV）
- [x] 批量操作支持
- [x] 数据迁移脚本
- [x] 数据备份机制
- [x] 导出历史管理

#### **用户界面**
- [x] 现代化 UI 设计
- [x] 完整的 UI 组件库
- [x] 响应式设计
- [x] 无障碍访问支持
- [x] 加载动画和过渡效果
- [x] 表单验证和错误提示

### 🔄 **正在开发中**
- [ ] 自动博客生成（从每日总结）
- [ ] 高级分析功能
- [ ] 自动化工作流
- [ ] 更多图表类型
- [ ] 数据导入功能

### 📋 **计划中功能**
- [ ] AI 驱动的生产力洞察
- [ ] 第三方应用集成（Google Calendar 等）
- [ ] 移动端 PWA 支持
- [ ] 离线功能支持
- [ ] 更多自动化规则
- [ ] 高级报表生成
- [ ] 数据同步和备份服务

### 🔧 **技术改进**
- [ ] 性能优化和代码分割
- [ ] 单元测试和集成测试
- [ ] E2E 测试覆盖
- [ ] 国际化支持
- [ ] 更多主题选项
- [ ] 更好的错误监控

## 🤝 贡献

1. Fork 仓库
2. 创建功能分支
3. 进行更改
4. 彻底测试
5. 提交 Pull Request

## 📄 许可证

本项目采用 MIT 许可证。

## 🆘 支持

如果在设置过程中遇到任何问题：

1. 检查所有环境变量是否正确设置
2. 验证您的 Supabase 项目是否活跃且可访问
3. 确保数据库架构已应用
4. 检查控制台是否有任何错误消息

如需额外帮助，请在仓库中创建 issue。

---

**编码愉快！🚀**
